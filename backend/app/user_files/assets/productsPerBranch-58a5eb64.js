import{_,o as a,c as d,b as e,h as g,i as v,j as S,k as y,l as b,f as n,m as k,w as x,n as B,q as P,t as i,d as l,u as j}from"./index-9b392f3a.js";const C={},w={class:"alert alert-info alert-coupon"};function E(t,s){return a(),d("div",w,[e("h4",null,[g(t.$slots,"default",{},void 0,!0)])])}const $=_(C,[["render",E],["__scopeId","data-v-2403cdf6"]]),D={class:"card"},N={class:"bg-image hover-overlay ripple","data-mdb-ripple-color":"light"},T=["src"],I=e("a",{href:"javascript:void(0)"},[e("div",{class:"mask",style:{"background-color":"rgba(251, 251, 251, 0.15)"}})],-1),V={class:"card-body"},q={class:"card-title"},A={class:"card-text"},L={class:"row"},z={__name:"Product",props:{product:{type:Object,require:!0}},setup(t){const s=t,o=v("hostname"),u=S(),h=y(),m=b();function p(){u.data=s.product,m.push({name:"productDetail",params:{id:s.product._id}})}return(R,r)=>{var c;return a(),d("div",D,[e("div",N,[e("img",{src:n(o)+t.product.img,class:"img-fluid",crossorigin:"anonymous"},null,8,T),I]),e("div",V,[((c=t.product.inSales)==null?void 0:c.length)>0?(a(),k($,{key:0},{default:x(()=>[B(" Sản phẩm đăng được khuyến mãi ")]),_:1})):P("",!0),e("h5",q,i(t.product.name),1),e("p",A,i(t.product.description),1),e("div",L,[e("a",{class:"col btn btn-primary d-flex align-items-center justify-content-center",onClick:r[0]||(r[0]=f=>p())},"Xem chi tiết"),e("a",{class:"col btn btn-primary d-flex align-items-center justify-content-center",onClick:r[1]||(r[1]=f=>n(h).addToCart(t.product))},"Thêm vào giỏ hàng")])])])}}},O=l("errors",{state:()=>({items:[]}),actions:{removeError(t){this.items=this.items.filter(s=>s!=t)},pushError(t){this.items.push(t)},clearErrors(){this.items=[]}}}),F=l("productsPerBranch",{state:()=>({items:[]}),getters:{errors(t){return O()},alerts:()=>j()},actions:{async fetchData(){if(this.items.length==0){var t=await this.alerts.callAPI("warning","http://localhost:3000/branch/product");if(t==null)return;this.items=t.items,this.isLoaded=!0}},getProductsByBranchName(t){var s;return(s=this.items.find(o=>o.name==t))==null?void 0:s.products}}});export{z as _,F as u};
