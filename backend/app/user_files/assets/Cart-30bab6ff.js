import{k as g,o as f,c as x,b as t,t as c,f as h,s as m,E as k,F as $,r as T,m as M,G as j,A as n,H as u,B as y,n as _}from"./index-9b392f3a.js";const N={class:"card mb-3"},C={class:"card-body"},O={class:"d-flex justify-content-between"},S={class:"d-flex flex-row align-items-center"},V=["src"],B={class:"ms-3"},U={class:"small mb-0"},D={class:"d-flex flex-row align-items-center"},z={style:{width:"50px"}},q={class:"fw-normal mb-0"},P={style:{width:"80px"}},Y={class:"mb-0"},A=t("i",{class:"fas fa-trash-alt"},null,-1),E=[A],F={__name:"CartItem",props:["product"],setup(a){const l=g();return(o,i)=>(f(),x("div",N,[t("div",C,[t("div",O,[t("div",S,[t("div",null,[t("img",{src:a.product.img,class:"img-fluid rounded-3",alt:"Shopping item",style:{width:"65px"}},null,8,V)]),t("div",B,[t("h5",null,c(a.product.name),1),t("p",U,c(a.product.description),1)])]),t("div",D,[t("div",z,[t("h5",q,c(a.product.quantity),1)]),t("div",P,[t("h5",Y,c(a.product.price),1)]),t("a",{href:"javascript:void(0)",onClick:i[0]||(i[0]=d=>h(l).remove(a.product)),style:{color:"#cecece"}},E)])])])]))}},G={class:"h-100 h-custom"},H={class:"container py-5 h-100"},L={class:"row d-flex justify-content-center align-items-center h-100"},I={class:"col"},J={class:"card"},R={class:"card-body p-4"},K={class:"row"},Q={class:"col-lg-7"},W=t("h5",{class:"mb-3"},[t("a",{href:"#!",class:"text-body"},[t("i",{class:"fas fa-long-arrow-alt-left me-2"}),_("Continue shopping")])],-1),X=t("hr",null,null,-1),Z={class:"d-flex justify-content-between align-items-center mb-4"},tt=t("p",{class:"mb-1"},"Giỏ hàng",-1),st={class:"mb-0"},et=t("div",null,[t("p",{class:"mb-0"},[t("span",{class:"text-muted"},"Sort by:"),_(),t("a",{href:"#!",class:"text-body"},[_("price "),t("i",{class:"fas fa-angle-down mt-1"})])])],-1),ot={class:"col-lg-5"},at={class:"card bg-primary text-white rounded-3"},lt=t("div",{class:"card-header"},[t("ul",{class:"nav nav-pills mb-3 row",id:"pMethods",role:"tablist"},[t("li",{class:"nav-item col px-0",role:"presentation"},[t("a",{class:"nav-link active",id:"pMethods-tab-1","data-mdb-toggle":"pill",href:"#pMethods-pills-1",role:"tab","aria-controls":"ex1-pills-1","aria-selected":"true"},"Thanh toán qua thẻ")]),t("li",{class:"nav-item col px-0",role:"presentation"},[t("a",{class:"nav-link",id:"pMethods-tab-2","data-mdb-toggle":"pill",href:"#pMethods-pills-2",role:"tab","aria-controls":"ex1-pills-2","aria-selected":"false",style:{"font-size":"11px"}},"Thanh toán khi nhận hàng")])])],-1),it={class:"card-body"},nt={class:"tab-content",id:"pMethods-content"},ct={class:"tab-pane fade show active",id:"pMethods-pills-1",role:"tabpanel","aria-labelledby":"pMethods-tab-1"},dt=t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[t("h5",{class:"mb-0"},"Chi tiết thẻ"),t("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp",class:"img-fluid rounded-3",style:{width:"45px"},alt:"Avatar"})],-1),rt=t("p",{class:"ms-2 small mb-2"},"Loại thẻ",-1),ht={class:"mb-5 ms-2"},pt={class:"form-check float-start"},mt=t("label",{class:"form-check-label",for:"pOption1"},[t("a",{href:"javascript:void(0)",type:"submit",class:"text-white"},[t("i",{class:"fab fa-cc-mastercard fa-2x me-2"})])],-1),ut={class:"form-check float-start"},ft=t("label",{class:"form-check-label",for:"pOption2"},[t("a",{href:"javascript:void(0)",type:"submit",class:"text-white"},[t("i",{class:"fab fa-cc-visa fa-2x me-2"})])],-1),_t={class:"form-check float-start"},vt=t("label",{class:"form-check-label",for:"pOption3"},[t("a",{href:"javascript:void(0)",type:"submit",class:"text-white"},[t("i",{class:"fab fa-cc-amex fa-2x me-2"})])],-1),bt={class:"form-check float-start"},yt=t("label",{class:"form-check-label",for:"pOption4"},[t("a",{href:"javascript:void(0)",type:"submit",class:"text-white"},[t("i",{class:"fab fa-cc-paypal fa-2x"})])],-1),xt=t("div",{class:"form-outline form-white mb-4 float-none"},[t("input",{type:"text",id:"holderName",class:"form-control form-control-lg",siez:"17",placeholder:"Cardholder's Name"}),t("label",{class:"form-label",for:"holderName"},"Tên người sở hữu")],-1),gt={class:"form-outline form-white mb-4"},wt=t("label",{class:"form-label",for:"cardNumber"},"Số thẻ",-1),kt={class:"row mb-4"},$t={class:"col-md-6"},Tt={class:"form-outline form-white"},Mt=t("label",{class:"form-label",for:"expiration"},"Expiration",-1),jt={class:"col-md-6"},Nt={class:"form-outline form-white"},Ct=t("label",{class:"form-label",for:"cvv"},"Cvv",-1),Ot=t("hr",{class:"my-4"},null,-1),St={class:"d-flex justify-content-between"},Vt=t("p",{class:"mb-2"},"Hóa đơn",-1),Bt={class:"mb-2"},Ut=t("div",{class:"d-flex justify-content-between"},[t("p",{class:"mb-2"},"Chi phí giao hàng"),t("p",{class:"mb-2"},"$20.00")],-1),Dt={class:"d-flex justify-content-between mb-4"},zt=t("p",{class:"mb-2"},"Tổng hóa đơn",-1),qt={class:"mb-2"},Pt=t("div",{class:"d-flex justify-content-between"},[t("span",null,"$4818.00"),t("span",null,[_("Checkout "),t("i",{class:"fas fa-long-arrow-alt-right ms-2"})])],-1),Yt=[Pt],At=t("div",{class:"tab-pane fade",id:"pMethods-pills-2",role:"tabpanel","aria-labelledby":"pMethods-tab-2"}," Tab 2 content ",-1),Ft={__name:"Cart",setup(a){const l=g(),o=m(null),i=m(null),d=m(null);var v;k(d,r=>{isNaN(Date.parse(d.value))||(v=new Date(r))});const b=m(null);async function w(){const r=l.items.map(s=>({product:s._id,quantity:s.quantity})),e={cardType:o.value,cardNumber:i.value,expiration:v,cvv:b.value};var p=await fetch("http://localhost:3000/user/bill/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cardType:o.value,cardNumber:i.value,expiration:v,details:r,creditCard:e})});p.ok}return(r,e)=>{var p;return f(),x("section",G,[t("div",H,[t("div",L,[t("div",I,[t("div",J,[t("div",R,[t("div",K,[t("div",Q,[W,X,t("div",Z,[t("div",null,[tt,t("p",st,"Bạn có "+c((p=h(l))==null?void 0:p.items.length)+" trong giỏ hàng",1)]),et]),(f(!0),x($,null,T(h(l).items,s=>(f(),M(F,{product:s,key:s._id},null,8,["product"]))),128))]),t("div",ot,[t("div",at,[lt,t("div",it,[t("div",nt,[t("div",ct,[dt,t("form",{onSubmit:e[7]||(e[7]=j(s=>r.submitBill(s),["prevent"]))},[rt,t("div",ht,[t("div",pt,[n(t("input",{class:"form-check-input",type:"radio",name:"cardType",value:"mastercard",id:"pOption1","onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s)},null,512),[[u,o.value]]),mt]),t("div",ut,[n(t("input",{class:"form-check-input",type:"radio",name:"cardType",value:"visa",id:"pOption2","onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s)},null,512),[[u,o.value]]),ft]),t("div",_t,[n(t("input",{class:"form-check-input",type:"radio",name:"cardType",value:"amex",id:"pOption3","onUpdate:modelValue":e[2]||(e[2]=s=>o.value=s)},null,512),[[u,o.value]]),vt]),t("div",bt,[n(t("input",{class:"form-check-input",type:"radio",name:"cardType",value:"paypal",id:"pOption4",checked:"","onUpdate:modelValue":e[3]||(e[3]=s=>o.value=s)},null,512),[[u,o.value]]),yt])]),xt,t("div",gt,[n(t("input",{type:"text",id:"cardNumber",class:"form-control form-control-lg",siez:"17",placeholder:"1234 5678 9012 3457",minlength:"19",maxlength:"19","onUpdate:modelValue":e[4]||(e[4]=s=>i.value=s)},null,512),[[y,i.value]]),wt]),t("div",kt,[t("div",$t,[t("div",Tt,[n(t("input",{type:"text",id:"expiration",class:"form-control form-control-lg",placeholder:"MM/YYYY",size:"7",minlength:"7",maxlength:"12","onUpdate:modelValue":e[5]||(e[5]=s=>d.value=s)},null,512),[[y,d.value]]),Mt])]),t("div",jt,[t("div",Nt,[n(t("input",{type:"password",id:"cvv",class:"form-control form-control-lg",placeholder:"●●●",size:"1",minlength:"3",maxlength:"3","onUpdate:modelValue":e[6]||(e[6]=s=>b.value=s)},null,512),[[y,b.value]]),Ct])])])],32),Ot,t("div",St,[Vt,t("p",Bt,c(h(l).totalPrice)+" VND",1)]),Ut,t("div",Dt,[zt,t("p",qt,c(h(l).totalPrice+200),1)]),t("button",{type:"button",class:"btn btn-info btn-block btn-lg",onClick:e[8]||(e[8]=s=>w())},Yt)]),At])])])])])])])])])])])}}};export{Ft as default};
