import{d as X,j as w,w as n,l as p,o as a,k as l,b as d,a as t,c as e,n as _,F as u,q as g,s as $,v as z,x as S,t as i}from"./index-ed47b571.js";import{u as H,C as G,_ as P,M as T}from"./useTemplateRef-0ac0e777.js";import{u as j}from"./origins-992bf976.js";import{u as q}from"./branches-e4255d42.js";import{u as E}from"./products-74b42461.js";X("selectedProducts",{state:()=>({items:[]}),actions:{push(B){this.items.push(B)}}});const L=["onSubmit"],J={class:"modal-body"},Q=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductNameInput",class:"form-control",name:"name"}),t("label",{class:"form-label",for:"addProductNameInput"},"Tên")],-1),U=t("div",{class:"form-outline mb-4"},[t("input",{type:"number",id:"addProductPriceInput",class:"form-control",name:"price"}),t("label",{class:"form-label",for:"addProductPriceInput"},"Giá")],-1),W=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductScreenInput",class:"form-control",name:"screen"}),t("label",{class:"form-label",for:"addProductScreenInput"},"Màn hình")],-1),Y=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductOSInput",class:"form-control",name:"os"}),t("label",{class:"form-label",for:"addProductOSInput"},"Hệ điều hành")],-1),Z=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductBackCamInput",class:"form-control",name:"backCamera"}),t("label",{class:"form-label",for:"addProductBackCamInput"},"Camera sau")],-1),I=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductFrontCamInput",class:"form-control",name:"frontCamera"}),t("label",{class:"form-label",for:"addProductFrontCamInput"},"Camera trước")],-1),tt=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductChipInput",class:"form-control",name:"chip"}),t("label",{class:"form-label",for:"addProductChipInput"},"Chip")],-1),ot=t("div",{class:"form-outline mb-4"},[t("input",{type:"number",id:"addProductRAMInput",class:"form-control",name:"RAM"}),t("label",{class:"form-label",for:"addProductRAMInput"},"RAM")],-1),st=t("div",{class:"form-outline mb-4"},[t("input",{type:"number",id:"addProductDiskInput",class:"form-control",name:"diskSize"}),t("label",{class:"form-label",for:"addProductDiskInput"},"Dung lượng bộ nhớ")],-1),nt=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductInput",class:"form-control",name:"SIMs"}),t("label",{class:"form-label",for:"addProductSIMsInput"},"Số SIM")],-1),at=t("div",{class:"form-outline mb-4"},[t("input",{type:"text",id:"addProductCharingInput",class:"form-control",name:"charging"}),t("label",{class:"form-label",for:"addProductCharingInput"},"Bin")],-1),lt=t("div",{class:"form-outline mb-4"},[t("input",{type:"file",id:"addProductPriceInput",class:"form-control",name:"img"}),t("label",{class:"form-label",for:"addProductPriceInput"},"Hình")],-1),et={class:"form-select mb-4","aria-label":"Chọn xuất sứ",name:"origin"},it=t("option",{selected:""},"Chọn xuất sứ cho sản phẩm",-1),dt=["value"],ct={class:"form-select mb-4","aria-label":"Chọn nhãn hiệu",name:"branch"},ut=t("option",{selected:""},"Chọn nhãn hiệu cho sản phẩm",-1),rt=["value"],pt=t("div",{class:"form-outline mb-4"},[t("textarea",{class:"form-control",id:"addProductDescriptionInput",rows:"4",name:"description"}),t("label",{class:"form-label",for:"addProductDescriptionInput"},"Mô tả")],-1),_t={key:0,class:"alert alert-danger"},mt={key:1,class:"alert alert-success"},ht=t("div",{class:"modal-footer"},[t("button",{type:"submit",class:"btn btn-primary btn-block mb-4"},"Thêm")],-1),ft=["onSubmit"],bt={class:"modal-body"},vt={class:"form-outline mb-4"},gt=["value"],Pt=t("label",{class:"form-label",for:"updateProductNameInput"},"Tên",-1),yt={class:"form-outline mb-4"},Ct=["value"],kt=t("label",{class:"form-label",for:"updateProductPriceInput"},"Giá",-1),Mt={class:"form-outline mb-4"},xt=["value"],St=t("label",{class:"form-label",for:"updateProductScreenInput"},"Màn hình",-1),Tt={class:"form-outline mb-4"},Bt=["value"],Dt=t("label",{class:"form-label",for:"updateProductOSInput"},"Hệ điều hành",-1),At={class:"form-outline mb-4"},Rt=["value"],Nt=t("label",{class:"form-label",for:"updateProductBackCamInput"},"Camera sau",-1),Ft={class:"form-outline mb-4"},Vt=["value"],Ot=t("label",{class:"form-label",for:"updateProductFrontCamInput"},"Camera trước",-1),$t={class:"form-outline mb-4"},Ht=["value"],Kt=t("label",{class:"form-label",for:"updateProductChipInput"},"Chip",-1),Xt={class:"form-outline mb-4"},wt=["value"],zt=t("label",{class:"form-label",for:"updateProductRAMInput"},"RAM",-1),Gt={class:"form-outline mb-4"},jt=["value"],qt=t("label",{class:"form-label",for:"updateProductDiskInput"},"Dung lượng bộ nhớ",-1),Et={class:"form-outline mb-4"},Lt=["value"],Jt=t("label",{class:"form-label",for:"updateProductSIMsInput"},"Số SIM",-1),Qt={class:"form-outline mb-4"},Ut=["value"],Wt=t("label",{class:"form-label",for:"updateProductCharingInput"},"Bin",-1),Yt=t("div",{class:"form-outline mb-4"},[t("input",{type:"file",id:"updateProductPriceInput",class:"form-control",name:"img"}),t("label",{class:"form-label",for:"updateProductPriceInput"},"Hình")],-1),Zt={class:"form-select mb-4","aria-label":"Chọn xuất sứ",name:"origin"},It=["value","selected"],to={class:"form-select mb-4","aria-label":"Chọn nhãn hiệu",name:"branch"},oo=t("option",{selected:""},"Chọn nhãn hiệu cho sản phẩm",-1),so=["value","selected"],no=t("div",{class:"form-outline mb-4"},[t("textarea",{class:"form-control",id:"updateProductDescriptionInput",rows:"4",name:"description"}),t("label",{class:"form-label",for:"updateProductDescriptionInput"},"Mô tả")],-1),ao={key:0,class:"alert alert-danger"},lo={key:1,class:"alert alert-success"},eo=t("div",{class:"modal-footer"},[t("button",{type:"submit",class:"btn btn-primary btn-block mb-4"},"Thêm")],-1),io={class:"modal-body"},co=t("p",{class:"text-warning text-center"},"Bạn có chắc muốn xóa sản phẩm này",-1),uo={key:0,class:"alert alert-danger"},ro={key:1,class:"alert alert-success"},po={class:"modal-footer"},_o=["onClick"],mo=t("th",null,"Thông số kĩ thuật",-1),ho=t("th",{class:"text-center"},"Hình ảnh",-1),fo=["rowspan"],bo=["rowspan"],vo=["rowspan"],go=["rowspan"],Po=["rowspan"],yo=["rowspan"],Co=t("td",null,null,-1),ko={class:"text-center"},Mo=["src"],xo={rowspan:"10",class:"text-center align-middle"},So=["src"],To={rowspan:"10",class:"align-middle"},Oo={__name:"Product",setup(B){const D=E(),C=j(),k=q();D.fetchProducts(),C.fetchOrigins(),k.fetchBranches();const M=z("hostname"),A=H("updationModal"),R=H("deletionModal");return(Bo,Do)=>{const K=S("dir"),h=S("VTh"),r=S("VTr");return a(),w(G,{"api-url":`${p(M)}/admin/product`,"deletion-modal":p(R),"updation-modal":p(A),"fetched-data":p(D)},{modalTriggerButtons:n(()=>[l(P,{target:"addProductModal"},{default:n(()=>[d(" Thêm sản phẩm ")]),_:1})]),additionModal:n(({addHandler:m,errors:s})=>[l(T,{id:"addProductModal"},{modalTitle:n(()=>[d(" Thêm sản phẩm ")]),default:n(()=>[t("form",{onSubmit:$(o=>m(o,{sendFile:!0}),["prevent"])},[t("div",J,[Q,U,W,Y,Z,I,tt,ot,st,nt,at,lt,t("select",et,[it,(a(!0),e(u,null,_(p(C).items,o=>(a(),e("option",{value:o._id,key:o._id},i(o.country),9,dt))),128))]),t("select",ct,[ut,(a(!0),e(u,null,_(p(k).items,o=>(a(),e("option",{key:o._id,value:o._id},i(o.name),9,rt))),128))]),pt,s&&s.length!=0?(a(),e("div",_t,[(a(!0),e(u,null,_(s,o=>(a(),e("p",null,i(o.msg),1))),256))])):s&&s.length==0?(a(),e("div",mt," Thêm thành công ")):g("",!0)]),ht],40,L)]),_:2},1024)]),updationModal:n(({updateHandler:m,selectedItem:s,errors:o})=>[l(T,{id:"updateProductModal",ref_key:"updationModal",ref:A},{modalTitle:n(()=>[d(" Thêm sản phẩm ")]),default:n(()=>{var f,x,b,v,y,N,F,V,O;return[t("form",{onSubmit:$(c=>m(c,{sendFile:!0}),["prevent"]),method:"POST"},[t("div",bt,[t("div",vt,[t("input",{type:"text",id:"updateProductNameInput",class:"form-control",name:"name",value:s==null?void 0:s.name},null,8,gt),Pt]),t("div",yt,[t("input",{type:"number",id:"updateProductPriceInput",class:"form-control",name:"price",value:s==null?void 0:s.price},null,8,Ct),kt]),t("div",Mt,[t("input",{type:"text",id:"updateProductScreenInput",class:"form-control",name:"screen",value:(f=s==null?void 0:s.specs)==null?void 0:f.screen},null,8,xt),St]),t("div",Tt,[t("input",{type:"text",id:"updateProductOSInput",class:"form-control",name:"os",value:(x=s==null?void 0:s.specs)==null?void 0:x.os},null,8,Bt),Dt]),t("div",At,[t("input",{type:"text",id:"updateProductBackCamInput",class:"form-control",name:"backCamera",value:(b=s==null?void 0:s.specs)==null?void 0:b.backCamera},null,8,Rt),Nt]),t("div",Ft,[t("input",{type:"text",id:"updateProductFrontCamInput",class:"form-control",name:"frontCamera",value:(v=s==null?void 0:s.specs)==null?void 0:v.frontCamera},null,8,Vt),Ot]),t("div",$t,[t("input",{type:"text",id:"updateProductChipInput",class:"form-control",name:"chip",value:(y=s==null?void 0:s.specs)==null?void 0:y.chip},null,8,Ht),Kt]),t("div",Xt,[t("input",{type:"number",id:"updateProductRAMInput",class:"form-control",name:"RAM",value:(N=s==null?void 0:s.specs)==null?void 0:N.RAM},null,8,wt),zt]),t("div",Gt,[t("input",{type:"number",id:"updateProductDiskInput",class:"form-control",name:"diskSize",value:(F=s==null?void 0:s.specs)==null?void 0:F.diskSize},null,8,jt),qt]),t("div",Et,[t("input",{type:"text",id:"updateProductSIMsInput",class:"form-control",name:"SIMs",value:(V=s==null?void 0:s.specs)==null?void 0:V.SIMs},null,8,Lt),Jt]),t("div",Qt,[t("input",{type:"text",id:"updateProductCharingInput",class:"form-control",name:"charging",value:(O=s==null?void 0:s.specs)==null?void 0:O.charging},null,8,Ut),Wt]),Yt,t("select",Zt,[(a(!0),e(u,null,_(p(C).items,c=>(a(),e("option",{value:c._id,key:c._id,selected:c._id==(s==null?void 0:s.origin._id)},i(c.country),9,It))),128))]),t("select",to,[oo,(a(!0),e(u,null,_(p(k).items,c=>(a(),e("option",{key:c._id,value:c._id,selected:c._id==(s==null?void 0:s.branch._id)},i(c.name),9,so))),128))]),no,o&&o.length!=0?(a(),e("div",ao,[(a(!0),e(u,null,_(o,c=>(a(),e("p",null,i(c.msg),1))),256))])):o&&o.length==0?(a(),e("div",lo," Thêm thành công ")):g("",!0)]),eo],40,ft)]}),_:2},1536)]),deletionModal:n(({deleteHandler:m,errors:s})=>[l(T,{id:"deleteProductModal",ref_key:"deletionModal",ref:R},{modalTitle:n(()=>[d(" Xóa xuất sứ ")]),default:n(()=>[t("div",io,[l(K,null,{default:n(()=>[co]),_:1}),s&&s.length!=0?(a(),e("div",uo,[(a(!0),e(u,null,_(s,o=>(a(),e("p",null,i(o.msg),1))),256))])):s&&s.length==0?(a(),e("div",ro," Xóa sản phẩm thành công ")):g("",!0)]),t("div",po,[t("button",{class:"btn btn-primary btn-block mb-4",onClick:o=>m()},"Xóa",8,_o)])]),_:2},1536)]),tableColumnNames:n(()=>[t("tr",null,[l(h,{sortKey:"_id"},{default:n(()=>[d("#")]),_:1}),l(h,{class:"text-center",sortKey:"name"},{default:n(()=>[d("Tên")]),_:1}),l(h,{class:"text-center",sortKey:"price"},{default:n(()=>[d("Giá")]),_:1}),l(h,{class:"text-center",sortKey:"description"},{default:n(()=>[d("Mô tả")]),_:1}),l(h,{class:"text-center",sortKey:"origin"},{default:n(()=>[d("Xuất sứ")]),_:1}),l(h,{class:"text-center",sortKey:"branch"},{default:n(()=>[d("Nhãn hiệu")]),_:1}),mo,ho])]),tableColumnDatas:n(({rows:m,selectItem:s})=>[(a(!0),e(u,null,_(m,o=>(a(),e(u,{key:o._id},[l(r,{row:o},{default:n(({isSelected:f,toggle:x})=>{var b,v;return[t("td",{rowspan:o.specs?10:1,class:"align-middle"},i(o._id),9,fo),t("td",{rowspan:o.specs?10:1,class:"align-middle"},i(o.name),9,bo),t("td",{rowspan:o.specs?10:1,class:"align-middle"},i(o.price),9,vo),t("td",{rowspan:o.specs?10:1,class:"align-middle"},i(o.description),9,go),t("td",{rowspan:o.specs?10:1,class:"align-middle"},i((b=o.origin)==null?void 0:b.country),9,Po),t("td",{rowspan:o.specs?10:1,class:"align-middle"},i((v=o.branch)==null?void 0:v.name),9,yo),o.specs?g("",!0):(a(),e(u,{key:0},[Co,t("td",ko,[t("img",{src:p(M)+o.img,crossorigin:"anonymous",class:"img-fluid",style:{width:"50px",height:"50px"}},null,8,Mo)]),t("td",null,[l(P,{target:"updateProductModal",class:"me-2 btn btn-warning",onClick:y=>s(o)},{default:n(()=>[d(" Sửa ")]),_:2},1032,["onClick"]),l(P,{target:"deleteProductModal",class:"btn btn-danger",onClick:y=>s(o)},{default:n(()=>[d(" Xóa ")]),_:2},1032,["onClick"])])],64))]}),_:2},1032,["row"]),o.specs?(a(),e(u,{key:0},[l(r,{row:o},{default:n(()=>[t("td",null,"Màn hình: "+i(o.specs.screen),1),t("td",xo,[t("img",{src:p(M)+o.img,crossorigin:"anonymous",class:"img-fluid",style:{width:"50px",height:"50px"}},null,8,So)]),t("td",To,[l(P,{target:"updateProductModal",class:"me-2 btn btn-warning",onClick:f=>s(o)},{default:n(()=>[d(" Sửa ")]),_:2},1032,["onClick"]),l(P,{target:"deleteProductModal",class:"btn btn-danger",onClick:f=>s(o)},{default:n(()=>[d(" Xóa ")]),_:2},1032,["onClick"])])]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Hệ điều hành: "+i(o.specs.os),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Camera sau: "+i(o.specs.backCamera),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Camera trước: "+i(o.specs.frontCamera),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Chip: "+i(o.specs.chip),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," RAM: "+i(o.specs.RAM),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Dung lượng đĩa: "+i(o.specs.diskSize),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Số sim: "+i(o.specs.SIMs),1)]),_:2},1032,["row"]),l(r,{row:o},{default:n(()=>[t("td",null," Sạc: "+i(o.specs.charging),1)]),_:2},1032,["row"])],64)):g("",!0)],64))),128))]),_:1},8,["api-url","deletion-modal","updation-modal","fetched-data"])}}};export{Oo as default};
